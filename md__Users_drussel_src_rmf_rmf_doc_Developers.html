<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>RMF: Developers</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search-opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="RMF"/>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RMF
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md__Users_drussel_src_rmf_rmf_doc_Developers.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Developers </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#developers">Overview</a></li>
<li class="level1"><a href="#dev_tools">Developer tools</a></li>
<li class="level1"><a href="#cmake_tools">CMake tools</a></li>
<li class="level1"><a href="#makedecorators">Decorators</a></li>
<li class="level1"><a href="#avrocpp">Avro</a></li>
<li class="level1"><a href="#shareddata">SharedData</a></li>
<li class="level1"><a href="#documention">Documentation</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="developers"></a>
Overview</h1>
<p>This page documents various internal aspects of how the <a class="el" href="namespaceRMF.html" title="The namespace for all functionality in the library. ">RMF</a> library works and is built.</p>
<h1><a class="anchor" id="dev_tools"></a>
Developer tools</h1>
<p><a class="el" href="namespaceRMF.html" title="The namespace for all functionality in the library. ">RMF</a> used the <a href="http://www.github.com/salilab/developer_tools">Salilab developer tools</a> to provide basic developer tools in a way that is shared with IMP. This is included as a subrepository. Read the docs of that repository for more information.</p>
<h1><a class="anchor" id="cmake_tools"></a>
CMake tools</h1>
<p><a class="el" href="namespaceRMF.html" title="The namespace for all functionality in the library. ">RMF</a> used the <a href="http://www.github.com/salilab/cmake_modules">Salilab cmake modules</a> to provide some extensions to CMake. This is included as a subrepository.</p>
<h1><a class="anchor" id="makedecorators"></a>
Decorators</h1>
<p>Headers containing the simple decorators are generated by a script <code>tools/build/make_decorators.py</code>. These decorator headers are put into the build directory. New decorators should either be defined through the script or modeled after the existing ones.</p>
<h1><a class="anchor" id="avrocpp"></a>
Avro</h1>
<p><a class="el" href="namespaceRMF.html" title="The namespace for all functionality in the library. ">RMF</a> uses a <a href="https://github.com/salilab/avrocpp">fork of AvroCpp</a> to encode data. See that repository for more information. The fork is mostly necessary in order to add seek support to the DataFileReader and to support writing to memory buffers with the DataFileWriter. The other big patch has made it into Avro 1.7.6.</p>
<h1><a class="anchor" id="shareddata"></a>
SharedData</h1>
<p><a class="el" href="classRMF_1_1NodeConstHandle.html" title="A handle for a particular node in a read-only hierarchy. ">RMF::NodeConstHandle</a> and <a class="el" href="classRMF_1_1FileConstHandle.html" title="A handle for a read-only RMF file. ">RMF::FileConstHandle</a> work by maintaining a reference counted pointer to an RMF::internal::SharedData that contains the data for the open file. The SharedData object contains in memory a copy of the data from the current frame as well as various other file data (node hierarchy, frame hierarchy etc). Note, since it is ref counted, the file is kept open as long as there are any handles in existence.</p>
<h1><a class="anchor" id="documention"></a>
Documentation</h1>
<p><a class="el" href="namespaceRMF.html" title="The namespace for all functionality in the library. ">RMF</a> uses doxygen to build its documentation and it is published using the github pages support. To simplify things (so we can assume a fixed doxygen version), <a class="el" href="namespaceRMF.html" title="The namespace for all functionality in the library. ">RMF</a> downloads it own copy of doxygen (on mac or linux). To update the published docs, first it helps to have a second clone of the repository checked out to the <code>gh-pages</code> branch (assumed to be called <code>gh-pages</code>) and lets assume you are building in a directory called <code>release</code>. Then do </p>
<pre class="fragment">cd release
ninja -j 4 RMF-doc
cd ../gh-pages
rm -rf *
cp -r ../release/doc/html/* .
git add --all .
git commit -a -m "update docs"
git push origin gh-pages </pre> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38924681-2']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>
