<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>RMF: Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search-opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="RMF"/>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RMF
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md__Users_drussel_src_rmf_rmf_doc_Library.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#library">Overview</a></li>
<li class="level1"><a href="#basics">Basics</a></li>
<li class="level1"><a href="#associations">Associations</a></li>
<li class="level1"><a href="#parallel">Parallel I/O</a></li>
<li class="level1"><a href="#invariants">Invariants</a></li>
<li class="level1"><a href="#rmfdecorators">Decorators and factories</a></li>
<li class="level1"><a href="#bindings">Language bindings</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="library"></a>
Overview</h1>
<p>The <a class="el" href="namespaceRMF.html" title="The namespace for all functionality in the library. ">RMF</a> library provides an intermediate level interface to facilitate I/O of <a class="el" href="namespaceRMF.html" title="The namespace for all functionality in the library. ">RMF</a> data into and out of programs. The primary classes of interest are RMF::RootHandle representing the root of an <a class="el" href="namespaceRMF.html" title="The namespace for all functionality in the library. ">RMF</a> hierarchy and <a class="el" href="classRMF_1_1NodeHandle.html" title="A handle for a particular node in the hierarchy. ">RMF::NodeHandle</a> representing a node in the hierarchy.</p>
<p>The file is automatically closed when the last handle to it is destroyed.</p>
<h1><a class="anchor" id="basics"></a>
Basics</h1>
<p>The library defines many classes, some of which are implemented using C++ templates. Every class support output to a <code>std::ostream</code> in C++ and conversion to <code>str</code> in Python. In addition, every class can be compared to other instances of the same class and can be inserted in hash tables both in C++ and Python. The methods necessary to support these things are omitted for brevity.</p>
<p>In addition, there is a typedef for each type for managing lists of the objects. For example, a list of <a class="el" href="namespaceRMF.html#a60dddb83d1bd6434432a9fa32463ba2f">RMF::Category</a> objects is passed using a <a class="el" href="namespaceRMF.html#a535bfc3c97d4cb0c54166b3e1e41faeb">RMF::Categories</a> type. It looks like a <code>std::vector</code> in <code>C++</code> and is a <code>list</code> in Python.</p>
<h1><a class="anchor" id="associations"></a>
Associations</h1>
<p>The <a class="el" href="namespaceRMF.html" title="The namespace for all functionality in the library. ">RMF</a> wrapper has the concept of an association between nodes in its hierarchy and objects in the program accessing. The methods RMF::FileConstHandle::get_node_handle_from_association(), <a class="el" href="classRMF_1_1NodeConstHandle.html#a1ca46f397a06e16561a78006b5340727">RMF::NodeConstHandle::set_association()</a> and RMF::NodeConstHandle::get_assocation() can be used to take advantage of this. The idea is that one can store pointers to the programatic data structures corresponding to the nodes and so avoid maintaining ones own lookup table. Any function used in an association must support a <code>get_uint()</code> function. An implementation is provided for pointers.</p>
<h1><a class="anchor" id="parallel"></a>
Parallel I/O</h1>
<p>If <a class="el" href="classRMF_1_1FileHandle.html#ab1017c28ee942350b37f9000baf0a82f">RMF::FileHandle::flush()</a> has been called since the last change, it is safe to read the file from another process. Writing from more than one process is not supported. Nor is reading or writing from more than one thread of the same program.</p>
<h1><a class="anchor" id="invariants"></a>
Invariants</h1>
<p>Currently, there is little explicit checking of invariants between attributes in the <a class="el" href="namespaceRMF.html" title="The namespace for all functionality in the library. ">RMF</a> file. An extensible framework for checking invariants on file close and open will be added.</p>
<h1><a class="anchor" id="rmfdecorators"></a>
Decorators and factories</h1>
<p>The nicest way to interact with data stored in nodes is through decorators and factories (see the <a class="el" href="namespaceRMF_1_1decorator.html" title="See Decorators and Attributes for more information. ">RMF::decorator</a>). A factory (eg <a class="el" href="classRMF_1_1decorator_1_1ParticleFactory.html">RMF::decorator::ParticleFactory</a> or RMF::decorator::ParticleConstFactory) is constructed from a file (<a class="el" href="classRMF_1_1FileHandle.html" title="A handle for an RMF file. ">RMF::FileHandle</a> or <a class="el" href="classRMF_1_1FileConstHandle.html" title="A handle for a read-only RMF file. ">RMF::FileConstHandle</a>). It can be used to check if given nodes have the requested data at a given frame (eg if the <a class="el" href="classRMF_1_1NodeConstHandle.html" title="A handle for a particular node in a read-only hierarchy. ">RMF::NodeConstHandle</a> has mass, coordinates and radius and so is an <a class="el" href="classRMF_1_1decorator_1_1Particle.html">RMF::decorator::Particle</a>) and construct a decorator for that node at that frame. The decorator (eg <a class="el" href="classRMF_1_1decorator_1_1Particle.html">RMF::decorator::Particle</a> or <a class="el" href="classRMF_1_1decorator_1_1ParticleConst.html">RMF::decorator::ParticleConst</a>) can then be used to access the attributes and set them (for non-const variants). The accessing is done through appropriately named functions (eg RMF::decorator::Particle::set_radius()).</p>
<h1><a class="anchor" id="bindings"></a>
Language bindings</h1>
<p>The <a class="el" href="namespaceRMF.html" title="The namespace for all functionality in the library. ">RMF</a> library currently supports C++ and Python. The API is written so that <a href="http://www.swig.org">SWIG</a> can be used to easily generate bindings for most languages. The two main exceptions are C and Fortran. Until the SWIG C target support is finished, these can be supported by writing a simple C API manually, probably a weeks work. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38924681-2']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>
